<!doctype html><html lang=en><head><meta charset=utf-8><link rel=icon href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><title>Blog</title><link rel=stylesheet href="/blog/css/main.min.0a1265f87d82ecc5f08f9855f888f820ab77c67e51ba121bafdccbb5c3ddae79.css"></head><body><header><nav><ul><a class="text-lg font-bold text-cyan-600" href=/blog/ title=Blog>Blog</a>
|
<a class="underline
text-lg font-bold text-cyan-600" href=/blog/tils/ title=TILs>TILs</a></ul></nav></header><div id=content><article class="prose prose-sm sm:prose-base lg:prose-lg xl:prose-xl 2xl:prose-2xl
prose-cyan mx-auto"><h1>Direnv | 'DIRENV_DIR' Env Variable</h1><h2 id=question>Question</h2><p>For some reason <code>DIRENV_DIR</code> has appended <code>-</code> before <code>$PWD</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ echo $DIRENV_DIR
</span></span><span style=display:flex><span>-$PWD
</span></span></code></pre></div><h2 id=answer>Answer</h2><p><a href=https://github.com/direnv/direnv/commit/b18b1f59a9eed1b3d7cb2f06980da3f94dad0155#diff-221dbe7605813b08a9a1f12ea8a612f2006f9376d0699dcf6538dca1aa30c668>https://github.com/direnv/direnv/commit/b18b1f59a9eed1b3d7cb2f06980da3f94dad0155#diff-221dbe7605813b08a9a1f12ea8a612f2006f9376d0699dcf6538dca1aa30c668</a>
<a href=https://github.com/direnv/direnv/commit/d7778d14384a7c459351cc212b56dacd8b7f0470>https://github.com/direnv/direnv/commit/d7778d14384a7c459351cc212b56dacd8b7f0470</a></p><h2 id=what-i-learned>What I Learned</h2><ol><li>We need to strip &ldquo;-&rdquo; from DIRENV_DIR before using it<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ echo <span style=color:#e6db74>${</span>DIRENV_DIR#-<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>$PWD
</span></span></code></pre></div></li><li>There is &ldquo;named directories&rdquo; concept in zsh but I still need to properly understand it.</li></ol></article></div></body></html>