<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<link rel=icon href=/favicon.ico>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Blog</title>
<link rel=stylesheet href="/blog/css/main.min.0a1265f87d82ecc5f08f9855f888f820ab77c67e51ba121bafdccbb5c3ddae79.css">
</head>
<body><header>
<nav>
<ul>
<a class="text-lg font-bold text-cyan-600" href=/blog/ title=Blog>Blog</a>
|
<a class="underline
text-lg font-bold text-cyan-600" href=/blog/tils/ title=TILs>TILs</a>
</ul>
</nav>
</header>
<div id=content>
<article class="prose prose-sm sm:prose-base lg:prose-lg xl:prose-xl 2xl:prose-2xl
prose-cyan mx-auto">
<h1>GitLab | Registry Login Error Parsing Http 403 Response</h1>
<h2 id=question>Question</h2>
<p>Sometimes error messages very hard to understand</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console>$ docker login registry.gitlab.com
Authenticating with existing credentials...
Login did not succeed, error: Error response from daemon: Get https://registry.gitlab.com/v2/: error parsing HTTP 403 response body: unexpected end of JSON input: &#34;&#34;
</code></pre></div><h2 id=answer>Answer</h2>
<p>After digging through search results which weren&rsquo;t relevant and didn&rsquo;t help I found this
<a href=https://gitlab.com/gitlab-org/gitlab/-/issues/207509>https://gitlab.com/gitlab-org/gitlab/-/issues/207509</a></p>
<p>Turns out the issue was due to IP blocking. VPN solved this without problem.</p>
<h2 id=what-i-learned>What I Learned</h2>
<ol>
<li>
<p>If you have 2FA enabled your regular login and password wouldn&rsquo;t work.</p>
<blockquote>
<p>If you have Two-Factor Authentication enabled, use a Personal Access Token instead of a password.</p>
</blockquote>
<p><a href=https://docs.gitlab.com/ee/user/profile/account/two_factor_authentication.html#personal-access-tokens>https://docs.gitlab.com/ee/user/profile/account/two_factor_authentication.html#personal-access-tokens</a>
<a href=https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html>https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html</a></p>
</li>
<li>
<p>&ldquo;Itâ€™s Always DNS&rdquo;</p>
</li>
</ol>
</article>
</div></body>
</html>