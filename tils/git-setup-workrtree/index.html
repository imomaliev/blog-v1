<!doctype html><html lang=en><head><meta charset=utf-8><link rel=icon href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><title>Blog</title><link rel=stylesheet href="/blog/css/main.min.0a1265f87d82ecc5f08f9855f888f820ab77c67e51ba121bafdccbb5c3ddae79.css"></head><body><header><nav><ul><a class="text-lg font-bold text-cyan-600" href=/blog/ title=Blog>Blog</a>
|
<a class="underline
text-lg font-bold text-cyan-600" href=/blog/tils/ title=TILs>TILs</a></ul></nav></header><div id=content><article class="prose prose-sm sm:prose-base lg:prose-lg xl:prose-xl 2xl:prose-2xl
prose-cyan mx-auto"><h1>Git | Setup Workrtree</h1><h2 id=question>Question</h2><p>What is the best way to setup git worktree?</p><h2 id=answer>Answer</h2><ol><li><p>Create <code>bare</code> clone and put it to <code>project/.git</code>. This way git files will not be in a root of a project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ git clone --bare git@github.com:user/project.git project/.git
</span></span></code></pre></div></li><li><p>Update <code>.git/config</code>. To make behave more normally and be fetchable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span> [core]
</span></span><span style=display:flex><span>        repositoryformatversion = 0
</span></span><span style=display:flex><span>        filemode = true
</span></span><span style=display:flex><span>        bare = true
</span></span><span style=display:flex><span><span style=color:#a6e22e>+       logallrefupdates = true
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>        precomposeunicode = true
</span></span><span style=display:flex><span> [remote &#34;origin&#34;]
</span></span><span style=display:flex><span>        url = git@github.com:imomaliev/til.git
</span></span><span style=display:flex><span><span style=color:#a6e22e>+       fetch = +refs/heads/*:refs/remotes/origin/*
</span></span></span></code></pre></div></li><li><p><code>git fetch</code></p></li></ol></article></div></body></html>