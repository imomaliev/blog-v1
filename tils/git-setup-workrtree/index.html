<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<link rel=icon href=/favicon.ico>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Blog</title>
<link rel=stylesheet href="/blog/css/main.min.076f25f16802c9ec06660a6a121a92d29518837ffb3f3129a7f2a1e7ed8ae34c.css">
</head>
<body><header>
<nav class=nav>
<ul>
<a class=nav-item href=https://imomaliev.github.io/blog/>Blog</a>
|
<a class=nav-item href=/blog/tils/ title=TILs>TILs</a>
</ul>
</nav>
</header>
<div id=content>
<article>
<h1 class="text-5xl font-bold">Git | Setup Workrtree</h1>
<h2 id=question>Question</h2>
<p>What is the best way to setup git worktree?</p>
<h2 id=answer>Answer</h2>
<ol>
<li>
<p>Create <code>bare</code> clone and put it to <code>project/.git</code>. This way git files will not be in a root of a project</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console>$ git clone --bare git@github.com:user/project.git project/.git
</code></pre></div></li>
<li>
<p>Update <code>.git/config</code>. To make behave more normally and be fetchable.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff> [core]
        repositoryformatversion = 0
        filemode = true
        bare = true
<span style=color:#a6e22e>+       logallrefupdates = true
</span><span style=color:#a6e22e></span>        precomposeunicode = true
 [remote &#34;origin&#34;]
        url = git@github.com:imomaliev/til.git
<span style=color:#a6e22e>+       fetch = +refs/heads/*:refs/remotes/origin/*
</span></code></pre></div></li>
<li>
<p><code>git fetch</code></p>
</li>
</ol>
</article>
</div></body>
</html>